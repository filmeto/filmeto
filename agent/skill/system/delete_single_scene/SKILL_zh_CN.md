---
name: delete_single_scene
description: 从剧本中删除单个场景的技能
---

# 单个场景删除技能

此技能允许代理从项目的剧本中删除单个场景。它提供了删除不再需要或已被替换的场景的能力。

## 功能

- 通过唯一的 scene_id 删除单个场景
- 从剧本目录中删除场景文件
- 验证删除状态
- 处理场景不存在的情况

## 约束

- **需要上下文**：此技能需要有效的 ToolContext 和剧本管理器的访问权限
- **需要剧本管理器**：项目必须具有初始化的剧本管理器
- **有效的 scene_id**：scene_id 应该存在；删除不存在的场景返回成功（幂等操作）
- **破坏性操作**：此技能永久删除场景文件 - 请谨慎使用

## 输入要求

通过 `execute_skill_script` 调用脚本时提供以下输入：

- `scene_id`（字符串，必需）：场景标识符（例如 `scene_001`）。

如果缺少 `scene_id`，请在最终响应中询问，而不是调用脚本。

**重要提示**：删除之前，请考虑：
- 与用户确认是否应继续此操作
- 检查其他场景是否引用此场景
- 考虑是否应归档场景而不是删除

## 使用方法

当代理需要删除以下场景时，可以调用此技能：
- 故事中不再需要的场景
- 其他场景的重复场景
- 被修订版本替换的场景
- 故事重构的一部分

**最佳实践：**
- 删除前始终验证 scene_id
- 考虑先读取场景以确认它是正确的场景
- 警告用户关于永久删除的操作
- 谨慎使用，因为此操作无法撤销

## 参数示例

```json
{
  "scene_id": "scene_001"
}
```

## 输出

返回包含以下内容的 JSON 对象：
- `success`：指示操作是否成功的布尔值
- `scene_id`：已删除的场景的 ID
- `deleted`：指示场景是否实际被删除的布尔值（如果场景不存在则为 false）
- `message`：人类可读的状态消息

成功响应示例：
```json
{
  "success": true,
  "scene_id": "scene_001",
  "deleted": true,
  "message": "场景 'scene_001' 已成功删除。"
}
```

场景不存在时的示例：
```json
{
  "success": true,
  "scene_id": "scene_999",
  "deleted": false,
  "message": "场景 'scene_999' 不存在。无需删除。"
}
```

## 错误处理

- 如果缺少 scene_id 参数，则返回错误
- 如果上下文中没有剧本管理器，则返回错误
- 如果场景不存在，返回成功但 deleted=false（幂等操作）
- 检查响应中的 `success` 字段以验证操作是否成功完成
